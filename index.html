<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>gitwo — git worktree CLI</title>
  <meta name="description" content="gitwo is a tiny CLI that makes git worktree effortless—predictable names, safe cleanup, quick switch, and team‑friendly conventions." />
  <link rel="icon" href="favicon.svg" type="image/svg+xml">
  <link rel="manifest" href="site.webmanifest">
  <meta name="theme-color" content="#0f172a">
  <script>
    // ---- Early theme detection (no flash) ----
    (function() {
      try {
        var stored = localStorage.getItem('theme');
        var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
        var theme = stored || (prefersDark ? 'dark' : 'light');
        document.documentElement.setAttribute('data-theme', theme);
        var meta = document.querySelector('meta[name="theme-color"]');
        if (meta) meta.setAttribute('content', theme === 'dark' ? '#0b0b0c' : '#0f172a');
      } catch (e) {}
    })();
  </script>
  <!-- Open Graph / Twitter -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="gitwo — git worktrees, without the papercuts">
  <meta property="og:description" content="A tiny CLI that makes git worktree effortless.">
  <meta property="og:image" content="og-image.png">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="gitwo — git worktrees, without the papercuts">
  <meta name="twitter:description" content="A tiny CLI that makes git worktree effortless.">
  <meta name="twitter:image" content="og-image.png">
  <style>
    /* Root variables, light by default */
    :root{
      --bg:#ffffff; --panel:#f6f7f8; --text:#0a0a0a; --muted:#6b7280; --ring:#e5e7eb;
      --accent:#0f172a; --accent-2:#334155; --link:#0f172a; --shadow:0 10px 30px rgba(0,0,0,.06);
      --radius:16px; --header-h:64px;
      --chip-bg:#f3f4f6; --chip-bd:#e5e7eb; --chip-fg:#374151; --chip-inset:inset 0 1px 0 rgba(255,255,255,.7);
      --badge-bg:#ffffff; --badge-bd:#e5e7eb; --badge-fg:#111827; --badge-inset:inset 0 1px 0 rgba(255,255,255,.7);
      --code-bg:#0f1115;
    }
    /* Dark theme via data attribute (JS sets on load) */
    [data-theme="dark"]{
      --bg:#09090b; --panel:#111113; --text:#f4f4f5; --muted:#a1a1aa; --ring:#242428;
      --accent:#e5e7eb; --accent-2:#cbd5e1; --link:#e5e7eb; --shadow:0 10px 30px rgba(0,0,0,.35);
      --chip-bg:#0f1115; --chip-bd:#2a2e37; --chip-fg:#e5e7eb; --chip-inset:inset 0 1px 0 rgba(255,255,255,.06);
      --badge-bg:#0f1115; --badge-bd:#2a2e37; --badge-fg:#e5e7eb; --badge-inset:inset 0 1px 0 rgba(255,255,255,.06);
      --code-bg:#0b0b0c;
    }
    /* Fallback: if no JS or attribute not present, respect OS pref */
    @media (prefers-color-scheme: dark){
      :root:not([data-theme]){
        --bg:#09090b; --panel:#111113; --text:#f4f4f5; --muted:#a1a1aa; --ring:#242428;
        --accent:#e5e7eb; --accent-2:#cbd5e1; --link:#e5e7eb; --shadow:0 10px 30px rgba(0,0,0,.35);
        --chip-bg:#0f1115; --chip-bd:#2a2e37; --chip-fg:#e5e7eb; --chip-inset:inset 0 1px 0 rgba(255,255,255,.06);
        --badge-bg:#0f1115; --badge-bd:#2a2e37; --badge-fg:#e5e7eb; --badge-inset:inset 0 1px 0 rgba(255,255,255,.06);
        --code-bg:#0b0b0c;
      }
    }

    /* Motion preferences */
    @media (prefers-reduced-motion: reduce){
      * { animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0;overflow-x:hidden}
    body{font:16px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,Helvetica Neue,Arial,Apple Color Emoji,Segoe UI Emoji;color:var(--text);background:linear-gradient(180deg,var(--bg) 0%,color-mix(in oklab,var(--bg),#808080 2%) 100%);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    a{color:var(--link);text-decoration:none} a:hover{text-decoration:underline}
    .container{max-width:1120px;margin:0 auto;padding:0 clamp(16px,4vw,20px); container-type:inline-size;} /* enable container queries */
    .btn{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border:1px solid var(--ring);background:var(--text);color:var(--bg);padding:.7rem 1rem;border-radius:999px;box-shadow:var(--shadow);text-decoration:none;font-weight:600;min-height:44px;min-width:44px}
    .btn.secondary{background:transparent;color:var(--text)}
    .chips{display:flex;gap:12px;flex-wrap:wrap}
    .chip{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem .75rem;border-radius:999px;background:var(--chip-bg);border:1px solid var(--chip-bd);color:var(--chip-fg);box-shadow:var(--chip-inset),0 1px 2px rgba(0,0,0,.04);font-size:.88rem;font-weight:500}
    .chip svg{width:16px;height:16px;opacity:.9}
    .grid{display:grid;gap:24px}
    .card{background:var(--panel);border:1px solid var(--ring);border-radius:var(--radius);box-shadow:var(--shadow)}
    .card .hd{display:flex;align-items:center;justify-content:space-between;padding:16px 18px;border-bottom:1px solid var(--ring);font-weight:600}
    .card .bd{padding:18px;color:var(--muted)}
    header{position:sticky;top:0;z-index:20;backdrop-filter:blur(8px);background:color-mix(in oklab,var(--bg),transparent 25%);border-bottom:1px solid var(--ring);padding-top:calc(8px + env(safe-area-inset-top,0px))}
    .header-bar{display:flex;align-items:center;justify-content:space-between;padding:8px 20px}
    .brand{display:flex;align-items:center;gap:.6rem}
    /* New logo: "$ gitwo" chip */
    .logo-shell{display:inline-flex;align-items:center;background:var(--text);color:var(--bg);border-radius:12px;padding:.35rem .6rem;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;font-weight:700;box-shadow:var(--shadow)}
    .logo-shell .dollar{opacity:.95;margin-right:.25rem}
    .nav-wrap{position:relative}
    .nav-links{display:flex;gap:14px;font-size:.95rem;align-items:center;flex-wrap:wrap}
    .menu-btn{display:none;border:1px solid var(--ring);background:var(--panel);color:var(--text);border-radius:10px;padding:.5rem .7rem}
    /* GitHub stars badge */
    .gh-badge{display:inline-flex;align-items:center;gap:.45rem;padding:.45rem .65rem;border-radius:999px;background:var(--badge-bg);border:1px solid var(--badge-bd);color:var(--badge-fg);box-shadow:var(--badge-inset),0 1px 2px rgba(0,0,0,.04);font-weight:600}
    .gh-ico{width:18px;height:18px;opacity:.85}
    .gh-num{min-width:3.2ch;text-align:left}
    /* Two-column utility */
    .two{grid-template-columns:repeat(2,minmax(0,1fr))}

    section{scroll-margin-top:calc(var(--header-h) + env(safe-area-inset-top,0px) + 10px);padding:64px 0}
    .hero{padding:64px 0 40px}
    .hero h1{font-size:clamp(28px,4.6vw,56px);line-height:1.05;margin:0 0 16px}
    .hero p{color:var(--muted);font-size:clamp(16px,2vw,18px);max-width:52ch}
    .hero-actions{display:flex;flex-wrap:wrap;gap:12px;margin:18px 0 10px}
    .eyebrow{letter-spacing:.12em;color:var(--muted);font-size:.75rem;text-transform:uppercase}
    .eyebrow.noupcase{text-transform:none; letter-spacing:.02em}
    .terminal{background:var(--code-bg);color:#e5e7eb;border-radius:20px;overflow:hidden;border:1px solid #1f1f22;box-shadow:var(--shadow)}
    .terminal .bar{padding:8px 12px;font-size:.8rem;color:#9ca3af;background:#141416;border-bottom:1px solid #1f1f22;display:flex;align-items:center;gap:8px}
    .dots{display:inline-flex;gap:6px;margin-right:8px} .dots i{display:block;width:10px;height:10px;border-radius:99px;background:#ef4444} .dots i:nth-child(2){background:#f59e0b} .dots i:nth-child(3){background:#22c55e}
    .code{padding:16px;background:transparent;overflow:auto;-webkit-overflow-scrolling:touch;font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:.95rem}
    .code .prompt{color:#8b5cf6} .code .comment{color:#9ca3af}
    .copywrap{position:relative}
    .copybtn{padding:.45rem .7rem;border-radius:10px;background:#18181b;color:#e5e7eb;border:1px solid #27272a;cursor:pointer;font-size:.8rem;min-height:36px}
    .copybtn.ok{background:#14532d;border-color:#166534}
    .features{grid-template-columns:repeat(auto-fit,minmax(240px,1fr))}
    .feature{padding:18px;border-radius:var(--radius);border:1px solid var(--ring);background:var(--panel)}
    .feature h3{margin:6px 0 6px;font-size:1.05rem}
    .feature p{margin:0;color:var(--muted);font-size:.95rem}
    .icon{width:24px;height:24px;color:var(--accent-2)}
    .cta{background:radial-gradient(1200px 400px at 80% -10%,color-mix(in oklab,var(--accent),transparent 80%),transparent),linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border-radius:24px;padding:28px;display:grid;gap:18px}
    .cta .btn{background:#fff;color:#0b0b0c;border-color:transparent} .cta .btn.secondary{background:transparent;color:#fff;border-color:rgba(255,255,255,.35)}
    details{border:1px solid var(--ring);border-radius:12px;padding:14px 16px;background:var(--panel)} details+details{margin-top:10px} summary{cursor:pointer;font-weight:600}
    footer{padding:34px 0 60px;color:var(--muted)} footer a{color:inherit}

    
    /* Hero layout: control order with grid areas */
    .hero-grid{ grid-template-areas: "text term"; }
    .hero-text{ grid-area: text; min-width:0; }
    .hero-terminal{ grid-area: term; min-width:0; }
    @container (max-width: 900px){
      .hero-grid{ grid-template-columns: 1fr !important; grid-template-areas: "text" "term" !important; }
      .hero-terminal{ margin-top: 14px; }
    }

    /* Container query: if the .container is narrower than 720px, stack .two */
    @container (max-width: 720px){
      .two{ grid-template-columns: 1fr !important; }
    }

    /* Fallback viewport-based mobile overrides */
    @media (max-width: 900px){
      .nav-links{display:none;position:absolute;top:calc(100% + 8px);left:0;right:0;background:var(--bg);border-bottom:1px solid var(--ring);border-top:1px solid var(--ring);padding:12px 20px;flex-direction:column;gap:12px}
      .nav-links a,.nav-links .gh-badge{display:block;width:100%}
      .menu-btn{display:inline-flex}
      header.nav-open .nav-links{display:flex}
      .header-bar{padding-right:12px}
      section{padding:48px 0}
      .card .hd{padding:14px 16px}
      .card .bd{padding:14px}
      .code{font-size:.875rem}
      .copybtn.overlay{display:none} /* hide overlay on mobile */
      .copybtn.hdr{display:inline-flex}
      .hero-grid{ grid-template-columns: 1fr !important; grid-template-areas: "text" "term" !important; }
    }
  </style>
</head>
<body>
  <header id="hdr">
    <div class="container header-bar">
      <div class="brand">
        <span class="logo-shell"><span class="dollar" aria-hidden="true">$</span><span>gitwo</span></span>
        <span class="chip" style="margin-left:.5rem;">CLI</span>
      </div>
      <div class="nav-wrap">
        <button class="menu-btn" id="menuBtn" aria-expanded="false" aria-controls="nav">Menu</button>
        <nav id="nav" class="nav-links">
          <a href="#features">Features</a><a href="#install">Install</a><a href="#usage">Usage</a><a href="#faq">FAQ</a>
          <!-- GitHub stars badge -->
          <a class="gh-badge" href="https://github.com/gitwohq/gitwo" target="_blank" rel="noreferrer" aria-label="GitHub: stars for gitwohq/gitwo">
            <svg class="gh-ico" viewBox="0 0 16 16" aria-hidden="true"><path fill="currentColor" d="M8 0C3.58 0 0 3.64 0 8.13c0 3.59 2.29 6.63 5.47 7.71.4.08.55-.18.55-.39 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.5-2.69-.96-.09-.23-.48-.96-.82-1.15-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.53.28-.87.51-1.07-1.78-.2-3.64-.91-3.64-4.03 0-.89.31-1.62.82-2.19-.08-.2-.36-1.02.08-2.12 0 0 .67-.22 2.2.84a7.42 7.42 0 0 1 4 0c1.53-1.06 2.2-.84 2.2-.84.44 1.1.16 1.92.08 2.12.51.57.82 1.3.82 2.19 0 3.13-1.87 3.83-3.65 4.03.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.19 0 .21.15.47.55.39A8.03 8.03 0 0 0 16 8.13C16 3.64 12.42 0 8 0Z"/></svg>
            <span class="gh-num" id="ghStars" data-repo="gitwohq/gitwo">GitHub</span>
          </a>
          <a class="btn" href="#install" style="padding:.45rem .9rem;">Install</a>
        </nav>
      </div>
    </div>
  </header>

  <section class="hero">
    <div class="container grid two hero-grid" style="align-items:center;">
      <div class="hero-text">
        <div class="eyebrow">git worktree helper</div>
        <h1>git worktrees, <span style="color:var(--accent-2)">without the papercuts</span></h1>
        <p>gitwo is a tiny CLI that makes <strong>git worktree</strong> effortless - predictable names, safe cleanup, quick switch, and team‑friendly conventions.</p>
        <div class="hero-actions">
          <a class="btn" href="#install">Install gitwo</a>
          <a class="btn secondary" href="#usage">See examples</a>
        </div>
        <div class="chips" style="margin-top:25px;">
          <span class="chip"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>Jira/Linear aware</span>
          <span class="chip"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 6L9 17l-5-5"/></svg>Dry‑run + guards</span>
        </div>
      </div>
      <div class="terminal hero-terminal">
        <div class="bar"><span class="dots"><i></i><i></i><i></i></span>gitwo demo</div>
        <div class="copywrap"><button class="copybtn overlay" data-copy="term" style="position:absolute;top:10px;right:10px;">Copy</button>
<pre id="term" class="code"><span class="comment"># create a worktree for a ticket</span>
<span class="prompt">$</span> gitwo add TMS-1421 --type feature
> created: ../feature/TMS-1421
> branch: feature/TMS-1421 -> origin/main

<span class="comment"># jump between sandboxes</span>
<span class="prompt">$</span> gitwo switch TMS-1421
> now at: ../feature/TMS-1421

<span class="comment"># list everything (JSON or pretty)</span>
<span class="prompt">$</span> gitwo ls --pretty
• main               /repo (clean)
• feature/TMS-1421   ../feature/TMS-1421 (✓)

<span class="comment"># safe cleanup</span>
<span class="prompt">$</span> gitwo prune --merged --dry-run
would remove: ../feature/TMS-1421</pre></div>
      </div>
    </div>
  </section>

  <section id="install">
    <div class="container">
      <div class="section-title">
        <div class="eyebrow noupcase">Install</div><h2>Get gitwo in seconds</h2>
        <p class="muted">Homebrew on macOS or direct binaries for Linux/Windows.</p>
      </div>
      <div class="grid two">
        <div class="card">
          <div class="hd"><span>Homebrew</span><button class="copybtn hdr" data-copy="brew">Copy</button></div>
          <div class="bd">
<pre id="brew" class="code">brew tap gitwohq/tap
brew install gitwo</pre>
            <p class="muted">Upgrade anytime with <code>brew upgrade gitwo</code>.</p>
          </div>
        </div>
        <div class="card">
          <div class="hd"><span>Direct binaries</span><button class="copybtn hdr" data-copy="bin">Copy</button></div>
          <div class="bd">
<pre id="bin" class="code"># Linux / Windows (amd64, arm64)
# Download from Releases and put on PATH
chmod +x ./gitwo && sudo mv ./gitwo /usr/local/bin/</pre>
            <p class="muted">SHA256 checksums and SBOM provided with each release.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="features">
    <div class="container">
      <div class="section-title">
        <div class="eyebrow noupcase">Why gitwo</div>
        <h2>The missing ergonomics for worktrees</h2>
        <p class="muted">Clean folders, clear names, safer lifecycle, happier teammates.</p>
      </div>
      <div class="grid features">
        <div class="feature"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 3v18M6 7a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm0 14a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 12h8m0 0l4-4m-4 4l4 4"/></svg><h3>One repo, many sandboxes</h3><p>Instant worktrees per task without extra clones or wasted GBs.</p></div>
        <div class="feature"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M13 10V3l-2 2-2-2v7M3 14h18M7 21h10"/></svg><h3>Frictionless UX</h3><p>Human‑friendly add/list/switch/clean, guards against foot‑guns.</p></div>
        <div class="feature"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg><h3>Conventions built‑in</h3><p>Opinionated names, ticket prefixes, and folder hygiene.</p></div>
        <div class="feature"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 8l16 8M4 16l16-8"/></svg><h3>Safer cleanup</h3><p>Refuses to delete dirty trees; dry‑run previews before removal.</p></div>
        <div class="feature"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="8" cy="12" r="3"/><circle cx="16" cy="6" r="3"/><circle cx="16" cy="18" r="3"/><path d="M11 11l3-3M11 13l3 3"/></svg><h3>Merge‑ready</h3><p>Create from any ref, track upstream, jump back with zero context loss.</p></div>
        <div class="feature"><svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="5" width="18" height="14" rx="2"/><path d="M7 9h10M7 13h6"/></svg><h3>CI‑friendly</h3><p>Scriptable JSON output + exit codes for hooks, bots, and CI checks.</p></div>
      </div>
    </div>
  </section>

  <section>
    <div class="container">
      <div class="cta">
        <div><h3 style="margin:0;font-size:clamp(22px,2.6vw,34px);">Ship more, context‑switch less</h3>
        <p style="margin:.4rem 0 0;opacity:.9;">Work like every task has its own repo—without the clones.</p></div>
        <div style="display:flex;gap:12px;flex-wrap:wrap;">
          <a class="btn" href="#install">Install gitwo</a>
          <a class="btn secondary" href="https://github.com/gitwohq/gitwo" target="_blank" rel="noreferrer">★ Star on GitHub</a>
        </div>
      </div>
    </div>
  </section>

  <section id="faq">
    <div class="container">
      <div class="section-title"><div class="eyebrow noupcase">FAQ</div><h2>Few quick answers</h2></div>
      <details><summary>Why not plain <code>git worktree</code>?</summary>
      <p class="muted">gitwo wraps the sharp edges: consistent naming, safe cleanup, quick switch, ticket awareness, and helpful guards. It’s the ergonomics teams re‑invent in ad‑hoc scripts—baked in and documented.</p></details>
      <details><summary>Does it modify my repo?</summary>
      <p class="muted">No magic. gitwo is a thin CLI on top of Git. It creates/removes worktrees and branches using official plumbing.</p></details>
      <details><summary>Is it cross‑platform?</summary>
      <p class="muted">Yes. Single static Go binary: Homebrew on macOS; archives for Linux/Windows. Works anywhere Git works.</p></details>
      <details><summary>How do we enforce team naming rules?</summary>
      <p class="muted">Configure prefixes (feature/, bugfix/, chore/), ticket extractors (Jira/Linear), and folder templates in a dotfile.</p></details>
    </div>
  </section>

  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;">
      <div>© <span id="y"></span> gitwo. All rights reserved.</div>
      <div style="display:flex;gap:16px;">
        <a href="https://gitwo.dev" target="_blank" rel="noreferrer">gitwo.dev</a>
        <a href="https://x.com/gitwohq" target="_blank" rel="noreferrer">X / Twitter</a>
        <a href="https://github.com/gitwohq/gitwo" target="_blank" rel="noreferrer">GitHub</a>
      </div>
    </div>
  </footer>

  <script>
    // Year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Copy buttons (both header and overlay)
    document.querySelectorAll('.copybtn').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('data-copy');
        if(!id) return;
        const el = document.getElementById(id);
        const text = el.innerText;
        navigator.clipboard.writeText(text).then(() => {
          btn.textContent = 'Copied'; btn.classList.add('ok');
          setTimeout(() => { btn.textContent = 'Copy'; btn.classList.remove('ok'); }, 1200);
        }).catch(() => { btn.textContent = 'Failed'; setTimeout(() => { btn.textContent = 'Copy'; }, 1200); });
      });
    });

    // Mobile menu
    const hdr = document.getElementById('hdr');
    const menuBtn = document.getElementById('menuBtn');
    menuBtn?.addEventListener('click', () => {
      const open = hdr.classList.toggle('nav-open');
      menuBtn.setAttribute('aria-expanded', open ? 'true' : 'false');
    });
    document.getElementById('nav')?.addEventListener('click', (e) => {
      if(e.target.tagName === 'A'){ hdr.classList.remove('nav-open'); menuBtn.setAttribute('aria-expanded','false'); }
    });

    // GitHub stars badge (edge-cached via /api/stars)
    (function(){
      const el = document.getElementById('ghStars');
      if(!el) return;

      const repo = el.getAttribute('data-repo') || 'gitwohq/gitwo';
      const key = 'ghstars:' + repo;

      const fmt = n => {
        if (n < 1000) return n.toString();
        const units = ['k','M','B'];
        let u = -1, num = n;
        while (num >= 1000 && u < units.length - 1) { num /= 1000; u++; }
        const s = num.toFixed(num < 10 ? 1 : 0);
        return s.replace(/\.0$/, '') + units[u];
      };

      // warm from localStorage (6h)
      try {
        const cached = localStorage.getItem(key);
        if (cached){
          const {ts, count} = JSON.parse(cached);
          if (Date.now() - ts < 6*60*60*1000) el.textContent = fmt(count);
        }
      } catch {}

      // hit your own edge endpoint (Pages Functions)
      fetch('/api/stars?repo=' + encodeURIComponent(repo))
        .then(r => r.ok ? r.json() : Promise.reject())
        .then(({count}) => {
          const n = count || 0;
          el.textContent = fmt(n);
          try { localStorage.setItem(key, JSON.stringify({ts: Date.now(), count: n})); } catch {}
        })
        .catch(() => { if(!/k|M|B/.test(el.textContent)) el.textContent = 'Star'; });
    })();
  </script>
</body>
</html>
